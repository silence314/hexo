---
title: 工作问题总结
date: 2020-09-09 15:56:26
tags: 
 - 记录 
 - 工作问题
description: 工作中遇到的问题，不一定是自己遇到的，但是都记录下来，以后多注意
cover: /blogImg/top.jpg
categories: 工作感悟
typora-root-url: ../../themes/butterfly/source
---

主要就是想记录一下自己以前犯过的错或者看到别人犯的错，记录一下，经常看看，以防bug出现，分类可能不完全严格，大概就是这几类。对于能一句话概括的加粗标记

# 与他人合作方面

1. **有和别人交互的接口，mq，或者其他方式，一定要开始说清楚。**中间也要多次确认对方明确了自己的需求，自己提供的功能也符合对方的预期，不能嫌麻烦或者因为对方是大佬觉得不会有问题，就不确认，有可能在最后联调，测试甚至上线了才发现交互与预期不符。
2. **永远不能相信他人的数据**。甚至是同一个项目别人写的代码，要防止他人产生的各种情况，尤其是mq相关，防止mq提前到，延迟到，重复消息等情况，增删改的接口调用也相同，同时对他人提供的mq，接口等也要考虑这些情况，万一遇到自己完全没校验的锅都是自己的。（不过我也很好奇怎么会有人完全不考虑重复消息的情况，就直接往数据库里插？？？）
3. 合作最重要的就是沟通，换位思考一下如果遇到一个经常确认各种事项的合作伙伴好像也并不会烦他，还会觉得对方靠谱，甚至还能帮我自己去check一些东西，保证合作结果没问题就是完美的，所以过程麻烦一点，多和别人确认一下是一个好事，不能怕麻烦也不能怕麻烦别人。
4. 

# 代码方面

1. 循环操作类似删除数据的话，切勿正序，删除后total没开始的多，会导致删不干净。
2. 多线程要考虑线程安全，尤其本来是单线程的但是突然要改多线程的时候。
3. 方法不能只考虑当前需求，要考虑自己或者别人后面复用是否方便，会不会造成什么问题，要在注释里写清楚
4. 对于代码要充分自测，时间充裕的情况下最好能充分写单测。
5. 每次上线都要观察一段时间日志，是否正常。
6. 同一个流程的日志要有类似的字段，查日志的时候方便定位问题
7. 

# 技术方案方面

1. **设计时不能大概想想就完了，一定要尽可能想清楚各种情况**。和产品沟通，防止开发时才发现问题或者上线了产生问题，这种一般都是设计时有遗漏，造成的往往也是大问题。
2. 要考虑需求的并发量，数据量，造成的内存/时间等影响，也不能根据测试环境，或者单线程的情况和简单类推多线程大数据高并发时的系统情况，最好能在实际生产环境做测试

# 其他方面

1. **要尽量在leader的角度去想问题**，毕竟leader也有leader，自己的工作成果是老大要给他老大汇报的，所以自己发起的一些技术需求就要为这些考虑（虽然听起来感觉怪怪的？）。比如公司想降成本的时候就要想自己怎么能帮助公司达到这点，像现在公司降成本，我就优化计算规则的时候把mongoDB下掉了，简化了代码逻辑也降了成本，一举多得。我寻思这也是在升维思考，虽然感觉是咸吃萝卜淡操心，但是如果只是完成被安排的工作好像怎么提升也只是写代码的。
2. 还是要多花时间学习，不能浪费时间，比起回家各种休闲娱乐活动，或者躺床上玩手机，都挺浪费时间，需要学习的东西有很多，有很多同龄人比自己强太多了，而且很多东西很容易忘，除了面试可能并不需要把所有东西都能背下来，但是至少要了解的足够多，遇到了问题能想到并且快速的查到解决方案也是挺不错的。而且其实能把大佬源码里的东西举一反三，合理的运用到实际自己的代码中的话，感觉就已经是不错的程序员了（可能。看一些源码就会发现其实很多巧妙的解决方式都是在其他源码中有类似的，知识迁移能力很重要。
3. 

